package Ejercicio1;


/**
 * Clase que representa el programa principal.
 */
public class Programa {

    static VariablesCompartidas compar = new VariablesCompartidas(new int[110], new int[10], new boolean[10]);

    /**
     * Método principal que inicia la ejecución del programa.
     */
    public static void main(String[] args) {

    	
    	HiloProductor productor = new HiloProductor(compar);
    	productor.start();
    	
        HiloConsumidor[] consumidor = new HiloConsumidor[10];
        for (int i = 0; i < 10; i++) {
        	consumidor[i] = new HiloConsumidor(compar);
        	consumidor[i].start();
        }
      
        HiloSumador sumador = new HiloSumador(compar);
        sumador.start();
        
        
        try {
            productor.join(); // Esperar a que termine el hilo de cambio de semáforo
            for (Thread vehiculoThread : vehiculos) {
                vehiculoThread.join(); // Esperar a que terminen los hilos de vehículos
            }
            for (Thread peatonThread : peatones) {
                peatonThread.join(); // Esperar a que terminen los hilos de peatones
            }
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        
        
        
        
        
		
	}

}
